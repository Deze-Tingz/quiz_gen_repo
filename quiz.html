<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="with=device-width, initial-scale=1.0">
    <title>QuizGen - Your Quiz</title>
    <link rel="stylesheet" href="style.css" >
    <script src="https://kit.fontawesome.com/053905a0e0.js" crossorigin="anonymous"></script>
</head>
<body>
    <section class="header">
        <nav>
            <div class="nav-links" id="navLinks">
                <i class="fa fa-times" onclick="hideMenu()"></i>
                <ul>
                    <li><a href="./index.html">Home</a></li>
                    <li><a href="./contact.html">Contact</a></li>
                </ul>
            </div>
            <i class="fa fa-bars" onclick="showMenu()"></i>
        </nav>

        <div class="content">
            <h1>Your Quiz</h1>
            <div id="quizDisplay" class="quiz-content"></div>
            <button class="button" onclick="location.href='./index.html'">
                <span></span>NEW QUIZ
            </button>
        </div>
    </section>

    <script>
        window.onload = function() {
            const quiz = localStorage.getItem('currentQuiz');
            if (quiz) {
                const formattedQuiz = formatQuiz(quiz);
                document.getElementById('quizDisplay').innerHTML = formattedQuiz;
            } else {
                document.getElementById('quizDisplay').innerHTML = 
                    '<h2>No quiz found. Please generate a new quiz.</h2>';
            }
        }

        function formatQuiz(quizText) {
            const questions = quizText.split(/\d+\./).filter(q => q.trim());
            
            return questions.map((question, index) => {
                const parts = question.split('\n').filter(line => line.trim());
                
                let questionHtml = `
                    <div class="question">
                        <div class="question-text">Question ${index + 1}:</div>
                        <div class="question-text">${parts[0]}</div>
                        <div class="options">
                `;
                
                for (let i = 1; i < parts.length; i++) {
                    if (parts[i].startsWith('A) ') || 
                        parts[i].startsWith('B) ') || 
                        parts[i].startsWith('C) ') || 
                        parts[i].startsWith('D) ')) {
                        questionHtml += `<div class="option">${parts[i]}</div>`;
                    } else if (parts[i].includes('Answer:')) {
                        questionHtml += `<div class="answer">${parts[i]}</div>`;
                    }
                }
                
                questionHtml += `
                        </div>
                    </div>
                `;
                
                return questionHtml;
            }).join('');
        }

        var navLinks = document.getElementById("navLinks");
        function showMenu() {
            navLinks.style.left = "0";
        }
        function hideMenu() {
            navLinks.style.left = "-200px";
        }
    </script>
</body>
</html>